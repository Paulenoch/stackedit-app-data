# IO
IO描述了计算机系统与外部设备之间通信的过程

### 应用程序角度
一个进程的地址空间划分为用户空间和内核空间，平常运行的应用程序都是运行在用户空间，只有内核空间才能进行系统态级别的资源相关操作（文件管理，进程通信，内存管理）

用户空间的程序不能直接访问内核空间，想要进行IO操作时，只能发起系统调用请求操作系统帮忙完成

应用发起IO调用后，经历两个步骤：
1. 内核等待IO设备准备好数据
2. 内核将数据从内核空间拷贝到用户空间


# 3种常见的IO模型
## BIO 同步阻塞IO
程序发起调用后，会一直阻塞，直到内核把数据拷贝到用户空间

## NIO
可以看作IO多路复用模型，
同步非阻塞IO种，程序会一直发起调用，等待数据从内核空间拷贝到用户空间的这段时间内，线程依旧是阻塞的，直到拷贝完成，通过轮询操作，避免了一直阻塞，十分消耗CPU资源

IO多路复用模型中，线程首先发起select调用，询问内核数据是否准备就绪，等内核把数据准备好后，线程再发起read调用，read调用的过程中依旧是阻塞的。减少了对CPU资源的消耗

Java中的NIO，有一个Selector
![输入图片说明](/imgs/2025-04-08/6un2xKfKQmErsjmw.png)

## AIO
异步IO，基于事件和回调机制，应用操作后会直接返回，不会堵塞，当

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEyMDA2MDYyMTRdfQ==
-->