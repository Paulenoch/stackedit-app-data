![输入图片说明](/imgs/2025-05-27/puGpXaHAxQ6ai6Hf.png)
### 主要流程说明

#### 1. **获取数据库表与元数据**

-   **智能交互前端** 向 **数据查询组件** 发起请求，获取所有表名。
    
    -   数据查询组件返回所有表名。
        
-   智能交互前端指定某表，查询其元数据。
    
    -   数据查询组件返回表的元数据（字段等）。
        

#### 2. **知识生成与发布**

-   智能交互前端指定表和个人知识类别（如：从PG中生成或获取知识，走RAG/外部知识），并发起知识生成请求给**知识生成组件**。
    
-   知识生成组件返回知识块ID，并将知识块和知识块内容存储到PG。
    
-   智能交互前端可以并行（par）指定多个类别知识块或批量指定类型，批量发布知识。
    
-   知识生成组件同样返回知识块ID，并存储所有知识块和内容到PG。
    

#### 3. **外部知识导入**

-   智能交互前端并行（par）向**外部系统**发起知识导入请求。
    
-   外部系统导入知识，返回SUCCESS。
    

#### 4. **知识库配置管理**

-   智能交互前端获取知识库配置（如top_k、阈值等）。
    
    -   知识生成组件返回配置。
        
-   可以对知识库配置进行修改，知识生成组件返回SUCCESS。
    

#### 5. **示例模板配置管理**

-   智能交互前端获取提示示例模板配置。
    
    -   知识生成组件返回模板配置。
        
-   可以对示例模板配置进行修改，知识生成组件返回SUCCESS。
    

#### 6. **SQL生成与执行**

-   智能交互前端通过用户输入、筛选内容类型、指定执行指标（开发态、运行态），传给**text2sql组件**。
    
-   text2sql组件根据领域或者数据库表和知识，生成SQL。
    
-   生成的SQL被返回到智能交互前端。
    
-   智能交互前端请求**数据查询组件**执行SQL。
    
    -   数据查询组件返回SQL执行结果和数据。


# 
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE3Mzk4NTA5MTcsLTIwODMwODU5MzgsLT
IwODg3NDY2MTJdfQ==
-->