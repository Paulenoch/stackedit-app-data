# 抽奖接口draw
1. 创建抽奖订单 (`createOrder`): 
-    为用户创建一张抽奖单。检查活动状态和是或否再活动日期内
- 查询是否有状态为created（创建了但未被使用）的订单
- 检查用户是否有足够的抽奖次数（日账户或月账户若不存在则创建），并返回账户构建对象（聚合对象）
- 将订单实体填充进账户构建对象中
- 根据user_id进行分库分表路由，在一个事务中更新总/日/月账户，写入参与活动订单，更新失败则回滚

 ---
    
2. 执行抽奖策略 (`performRaffle`)**: 拿到抽奖单后，调用`raffleStrategy`来执行核心的抽奖算法，决定用户中了什么奖。
    
-   **保存中奖记录 (`saveUserAwardRecord`)**: 抽奖成功后，调用`awardService`将中奖记录保存到数据库。
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTQzOTYzMzQ4OCwxNTY5MTEzNzYxXX0=
-->