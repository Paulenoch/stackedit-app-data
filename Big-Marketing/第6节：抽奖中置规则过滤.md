1.  入参校验、拉取策略；（略）
    
2.  **前置**规则：可能直接决定抽法（黑名单固定奖、权重限范围）；（略）
    
3.  **默认抽奖拿到 `awardId`**（这只是“候选”）。
    
4.  依据策略 + 奖品，查这件奖品挂了哪些**中置/后置**规则模型。
    
5.  **中置规则统一入口**：`doCheckRaffleCenterLogic(...)`
    
    -   如果返回 `ALLOW`（放行），就继续发这个奖品。
        
    -   如果返回 `TAKE_OVER`（接管/拦截），就**不发这个奖**，而是打印一条提示并交给**后置兜底**（如 `rule_luck_award`）。代码里直接构建了“被拦截，走兜底”的结果。
        

`DefaultRaffleStrategy#doCheckRaffleCenterLogic` 的实现是：**按声明顺序**把所有中置规则依次执行；**一旦有规则不是 ALLOW，就立刻返回、终止后续规则**。这就是“短路”机制。

> 小结：**中置**阶段就是在“抽到了个候选奖”之后“真正发出去之前”，允许某些规则“卡一刀”。常见用途：次数锁（没到次数不上）、资格锁、等级锁、时段锁、同款冷却等。
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExNTc5OTUwNF19
-->