## 2. 方案详解

### 2.1. 整体评估流程

对于每一个需要评估准确率的元数据描述项（例如 `table_desc`），系统将执行以下流程：

1.  **检查覆盖率**：首先确认该描述字段是否已填写。若未填写，则准确率评估结束，计为覆盖率问题。
    
2.  **执行启发式预检**：
    
    -   若描述内容命中任意一条启发式规则（如长度过短），则**直接判定为低分**（例如：10分），并生成一条标准化的优化建议（例如：“描述内容过于简单，请补充详细信息”）。流程终止。
        
    -   若所有启发式规则均通过，则进入下一步。
        
3.  **构建LLM评估上下文**：收集与当前描述相关的所有元数据，组装成一个结构化的上下文对象。
    
4.  **调用LLM服务**：将上下文对象格式化为一个精心设计的Prompt，异步调用LLM API。
    
5.  **解析并存储结果**：解析LLM返回的结构化数据（JSON），提取准确率得分 (`score`) 和优化建议 (`suggestion`)。
    
6.  **聚合与报告**：在遍历完所有评估项后，聚合所有得分，形成最终报告。
### 2.2. 启发式规则集

以下规则将在调用LLM之前执行，用于拦截低级错误：

-   **规则1：长度下限**
    
    -   **逻辑**：`len(description.strip()) < 5`
        
    -   **说明**：描述内容去除首尾空格后，长度少于5个字符。这通常意味着描述无效或只是敷衍填写。
        
-   **规则2：内容与名称重复**
    
    -   **逻辑**：`description.strip().lower() == field_name.lower()` 或 `description.strip() == field_business_name`
        
    -   **说明**：描述内容与字段的物理名称或业务名称完全一样，没有提供任何增量信息。
        
-   **规则3：通用无效词**
    
    -   **逻辑**：`description.strip() in ["字段", "描述", "测试", "test"]`
        
    -   **说明**：描述为无意义的通用词汇。
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTQ4OTkzMzUxNywtMTMzODE5MTU3NSwxNT
Y1NzI2MzAwLC0xMjU3NDU5ODQ3LDE4MjY1NDU4OTcsNzI1MjM3
MjcsLTIwODg3NDY2MTIsLTIyMjEzNTM1LC0xNzU0NTUxNzQ1XX
0=
-->