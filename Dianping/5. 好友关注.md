# 共同关注
在数据库中用Set存储每个用户所有的关注对象，key是当前用户id，value是所有关注对象的id，查询两个用户的共同关注可以取两个Set的交集

# 关注推送（Feed流）

### 拉模式（读扩散）
用户发送笔记时将笔记存入发件箱，当用户读自己的收件箱时将自己关注的所有用户的发件箱的内容拉取到自己的收件箱中，读完后可以清理收件箱。
- 优点：省内存
- 缺点：延迟（一个用户关注了大量的用户）

### 推模式（写扩散）

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTQ3NjI3OTMzLC0xODc0NTE2NjU1LC03OD
cyMjc5MDhdfQ==
-->